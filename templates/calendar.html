{% extends "base.html" %}

{% block title %}Activity Calendar{% endblock %}

{% block extra_css %}
<style>
    .calendar-container {
        display: flex;
        flex-direction: column;
        margin-top: 20px;
    }
    .month-labels {
        display: flex;
        justify-content: space-around;
        margin-bottom: 10px;
        color: var(--bs-secondary-color);
        font-size: 12px;
    }
    .calendar-grid {
        display: flex;
    }
    .weekday-labels {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding-right: 10px;
        color: var(--bs-secondary-color);
        font-size: 12px;
        height: 120px;
    }
    .calendar {
        display: grid;
        grid-template-columns: repeat(53, 1fr);
        gap: 2px;
    }
    .calendar-day {
        width: 10px;
        height: 10px;
        border-radius: 2px;
    }
    .activity-legend {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        margin-top: 10px;
        font-size: 12px;
        color: var(--bs-secondary-color);
    }
    .legend-item {
        display: flex;
        align-items: center;
        margin-left: 10px;
    }
    .legend-color {
        width: 10px;
        height: 10px;
        margin-right: 4px;
        border-radius: 2px;
    }
</style>
{% endblock %}

{% block content %}
<h2 class="mb-4">Activity Calendar</h2>

<div class="calendar-container">
    <div class="month-labels" id="month-labels"></div>
    <div class="calendar-grid">
        <div class="weekday-labels">
            <span>Mon</span>
            <span>Wed</span>
            <span>Fri</span>
        </div>
        <div id="calendar" class="calendar"></div>
    </div>
    <div class="activity-legend">
        <span>Less</span>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--bs-secondary-bg);"></div>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--bs-success-text);"></div>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--bs-success);"></div>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: var(--bs-success-bg-subtle);"></div>
        </div>
        <span>More</span>
    </div>
</div>

<script id="activity-data" type="application/json">
    {{ activity_data|safe }}
</script>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/calendar.js') }}"></script>
{% endblock %}
